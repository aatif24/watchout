import{S as t,i as s,s as a,l as e,f as l,d as c,e as r,k as n,t as o,c as i,a as h,n as f,g as m,b as u,E as d,h as p,H as g,u as v,w as b,x as k,J as E,A as x,r as I,N as $,P as w,j as y,m as D,o as V,v as M,R as P}from"../chunks/vendor-cb2d9ecf.js";import{L as N}from"../chunks/loader-46234079.js";import{b as j,l as L,c as S,p as _,d as C,e as G}from"../chunks/movies-2320c07e.js";function O(t){let s;function a(t,s){return t[2]?z:A}let r=a(t),n=r(t);return{c(){n.c(),s=e()},l(t){n.l(t),s=e()},m(t,a){n.m(t,a),l(t,s,a)},p(t,e){r===(r=a(t))&&n?n.p(t,e):(n.d(1),n=r(t),n&&(n.c(),n.m(s.parentNode,s)))},d(t){n.d(t),t&&c(s)}}}function A(t){let s;return{c(){s=r("i"),this.h()},l(t){s=i(t,"I",{class:!0}),h(s).forEach(c),this.h()},h(){u(s,"class","icon fas fa-user svelte-xa0kg3")},m(t,a){l(t,s,a)},p:g,d(t){t&&c(s)}}}function z(t){let s,a,e,n;return{c(){s=r("div"),a=r("img"),this.h()},l(t){s=i(t,"DIV",{class:!0});var e=h(s);a=i(e,"IMG",{class:!0,src:!0,alt:!0}),e.forEach(c),this.h()},h(){u(a,"class","img-fluid svelte-xa0kg3"),a.src!==(e=t[2])&&u(a,"src",e),u(a,"alt",n=t[0].character),u(s,"class","image svelte-xa0kg3")},m(t,e){l(t,s,e),d(s,a)},p(t,s){4&s&&a.src!==(e=t[2])&&u(a,"src",e),1&s&&n!==(n=t[0].character)&&u(a,"alt",n)},d(t){t&&c(s)}}}function B(t){let s,a,e,v,b,k,E,x,I,$,w,y=t[0].person.name+"",D=t[0].character+"",V=t[1]&&O(t);return{c(){s=r("div"),V&&V.c(),a=n(),e=r("div"),v=r("p"),b=o(y),E=n(),x=r("p"),I=o(D),this.h()},l(t){s=i(t,"DIV",{class:!0,"image-sourse":!0});var l=h(s);V&&V.l(l),a=f(l),e=i(l,"DIV",{class:!0});var r=h(e);v=i(r,"P",{class:!0,"data-bs-toggle":!0,"data-bs-placement":!0,title:!0});var n=h(v);b=m(n,y),n.forEach(c),E=f(r),x=i(r,"P",{class:!0,"data-bs-toggle":!0,"data-bs-placement":!0,title:!0});var o=h(x);I=m(o,D),o.forEach(c),r.forEach(c),l.forEach(c),this.h()},h(){u(v,"class","h5 name text-truncate svelte-xa0kg3"),u(v,"data-bs-toggle","tooltip"),u(v,"data-bs-placement","top"),u(v,"title",k=t[0].person.name),u(x,"class","character text-truncate fw-light svelte-xa0kg3"),u(x,"data-bs-toggle","tooltip"),u(x,"data-bs-placement","bottom"),u(x,"title",$=t[0].character),u(e,"class","title"),u(s,"class","cast svelte-xa0kg3"),u(s,"image-sourse",w=t[3](t[0].person.ids))},m(t,c){l(t,s,c),V&&V.m(s,null),d(s,a),d(s,e),d(e,v),d(v,b),d(e,E),d(e,x),d(x,I)},p(t,[e]){t[1]?V?V.p(t,e):(V=O(t),V.c(),V.m(s,a)):V&&(V.d(1),V=null),1&e&&y!==(y=t[0].person.name+"")&&p(b,y),1&e&&k!==(k=t[0].person.name)&&u(v,"title",k),1&e&&D!==(D=t[0].character+"")&&p(I,D),1&e&&$!==($=t[0].character)&&u(x,"title",$),1&e&&w!==(w=t[3](t[0].person.ids))&&u(s,"image-sourse",w)},i:g,o:g,d(t){t&&c(s),V&&V.d()}}}function H(t,s,a){let e,{cast:l}=s,c=!1;return t.$$set=t=>{"cast"in t&&a(0,l=t.cast)},[l,c,e,async t=>{if(t.tmdb){let s=await j(t.tmdb,"person");s.profiles&&s.profiles.length&&a(2,e="https://image.tmdb.org/t/p/w500"+s.profiles[0].file_path)}a(1,c=!0)}]}class J extends t{constructor(t){super(),s(this,t,H,B,a,{cast:0})}}function R(t,s,a){const e=t.slice();return e[9]=s[a],e[11]=a,e}function T(t){let s,a,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Y,then:K,catch:F,value:7,blocks:[,,,]};return $(a=t[3],n),{c(){s=e(),n.block.c()},l(t){s=e(),n.block.l(t)},m(t,a){l(t,s,a),n.block.m(t,n.anchor=a),n.mount=()=>s.parentNode,n.anchor=s,r=!0},p(s,e){t=s,n.ctx=t,8&e&&a!==(a=t[3])&&$(a,n)||w(n,t,e)},i(t){r||(k(n.block),r=!0)},o(t){for(let s=0;s<3;s+=1){const t=n.blocks[s];v(t)}r=!1},d(t){t&&c(s),n.block.d(t),n.token=null,n=null}}}function q(t){let s,a;return s=new N({}),{c(){y(s.$$.fragment)},l(t){D(s.$$.fragment,t)},m(t,e){V(s,t,e),a=!0},p:g,i(t){a||(k(s.$$.fragment,t),a=!0)},o(t){v(s.$$.fragment,t),a=!1},d(t){M(s,t)}}}function F(t){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function K(t){let s,a,e,g,b,E,x,I,y,D,V,M,P,N,j,L,S,_,C,G,O,A,z,B,H,J,R,T,q,F,K,W,Y,Z,tt,st,at=t[7].released+"",et=Math.round(10*(t[7].rating+Number.EPSILON))/10+"",lt=t[7].title+"",ct=t[7].genres.join(", ")+"",rt=(t[7].tagline&&t[7].tagline)+"",nt=t[7].overview+"",ot={ctx:t,current:null,token:null,hasCatch:!1,pending:X,then:U,catch:Q,value:8,blocks:[,,,]};return $(Z=t[4],ot),{c(){s=r("section"),a=r("img"),g=n(),b=r("div"),E=r("div"),x=r("img"),D=n(),V=r("div"),M=r("div"),P=r("p"),N=o(at),j=n(),L=r("p"),S=r("i"),_=n(),C=o(et),G=n(),O=r("div"),A=r("p"),z=o(lt),B=n(),H=r("small"),J=o(ct),R=n(),T=r("p"),q=o(rt),F=n(),K=r("p"),W=o(nt),Y=n(),ot.block.c(),this.h()},l(t){s=i(t,"SECTION",{"image-source":!0,class:!0});var e=h(s);a=i(e,"IMG",{src:!0,alt:!0,class:!0}),g=f(e),b=i(e,"DIV",{class:!0});var l=h(b);E=i(l,"DIV",{class:!0});var r=h(E);x=i(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(c),D=f(l),V=i(l,"DIV",{class:!0});var n=h(V);M=i(n,"DIV",{class:!0});var o=h(M);P=i(o,"P",{class:!0});var u=h(P);N=m(u,at),u.forEach(c),j=f(o),L=i(o,"P",{class:!0});var d=h(L);S=i(d,"I",{class:!0}),h(S).forEach(c),_=f(d),C=m(d,et),d.forEach(c),o.forEach(c),G=f(n),O=i(n,"DIV",{});var p=h(O);A=i(p,"P",{class:!0});var v=h(A);z=m(v,lt),B=f(v),H=i(v,"SMALL",{class:!0});var k=h(H);J=m(k,ct),k.forEach(c),v.forEach(c),R=f(p),T=i(p,"P",{class:!0});var I=h(T);q=m(I,rt),I.forEach(c),F=f(p),K=i(p,"P",{class:!0});var $=h(K);W=m($,nt),$.forEach(c),p.forEach(c),n.forEach(c),l.forEach(c),Y=f(e),ot.block.l(e),e.forEach(c),this.h()},h(){a.src!==(e=t[0])&&u(a,"src",e),u(a,"alt","bg-image"),u(a,"class","background svelte-1ityym4"),u(x,"class","poster svelte-1ityym4"),x.src!==(I=t[1])&&u(x,"src",I),u(x,"alt",y=t[7].title),u(E,"class","me-4"),u(P,"class",""),u(S,"class","icon fas fa-star svelte-1ityym4"),u(L,"class","h3"),u(M,"class","date-rating d-flex flex-column-reverse "),u(H,"class","genre fw-lighter text-capitalize svelte-1ityym4"),u(A,"class","h1"),u(T,"class","h3 fw-light mb-2"),u(K,"class","fw-lighter  w-75 m-0"),u(V,"class","d-flex flex-column justify-content-between"),u(b,"class","d-flex mt-5 px-3"),u(s,"image-source",tt=t[5](t[7].ids)),u(s,"class","svelte-1ityym4")},m(t,e){l(t,s,e),d(s,a),d(s,g),d(s,b),d(b,E),d(E,x),d(b,D),d(b,V),d(V,M),d(M,P),d(P,N),d(M,j),d(M,L),d(L,S),d(L,_),d(L,C),d(V,G),d(V,O),d(O,A),d(A,z),d(A,B),d(A,H),d(H,J),d(O,R),d(O,T),d(T,q),d(O,F),d(O,K),d(K,W),d(s,Y),ot.block.m(s,ot.anchor=null),ot.mount=()=>s,ot.anchor=null,st=!0},p(l,c){t=l,(!st||1&c&&a.src!==(e=t[0]))&&u(a,"src",e),(!st||2&c&&x.src!==(I=t[1]))&&u(x,"src",I),(!st||8&c&&y!==(y=t[7].title))&&u(x,"alt",y),(!st||8&c)&&at!==(at=t[7].released+"")&&p(N,at),(!st||8&c)&&et!==(et=Math.round(10*(t[7].rating+Number.EPSILON))/10+"")&&p(C,et),(!st||8&c)&&lt!==(lt=t[7].title+"")&&p(z,lt),(!st||8&c)&&ct!==(ct=t[7].genres.join(", ")+"")&&p(J,ct),(!st||8&c)&&rt!==(rt=(t[7].tagline&&t[7].tagline)+"")&&p(q,rt),(!st||8&c)&&nt!==(nt=t[7].overview+"")&&p(W,nt),ot.ctx=t,16&c&&Z!==(Z=t[4])&&$(Z,ot)||w(ot,t,c),(!st||8&c&&tt!==(tt=t[5](t[7].ids)))&&u(s,"image-source",tt)},i(t){st||(k(ot.block),st=!0)},o(t){for(let s=0;s<3;s+=1){const t=ot.blocks[s];v(t)}st=!1},d(t){t&&c(s),ot.block.d(),ot.token=null,ot=null}}}function Q(t){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function U(t){let s,a,e,n=t[8].cast,o=[];for(let l=0;l<n.length;l+=1)o[l]=W(R(t,n,l));const f=t=>v(o[t],1,1,(()=>{o[t]=null}));return{c(){s=r("div"),a=r("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){s=i(t,"DIV",{class:!0});var e=h(s);a=i(e,"DIV",{class:!0});var l=h(a);for(let s=0;s<o.length;s+=1)o[s].l(l);l.forEach(c),e.forEach(c),this.h()},h(){u(a,"class","row w-100"),u(s,"class","cast-container container-fluid svelte-1ityym4")},m(t,c){l(t,s,c),d(s,a);for(let s=0;s<o.length;s+=1)o[s].m(a,null);e=!0},p(t,s){if(16&s){let e;for(n=t[8].cast,e=0;e<n.length;e+=1){const l=R(t,n,e);o[e]?(o[e].p(l,s),k(o[e],1)):(o[e]=W(l),o[e].c(),k(o[e],1),o[e].m(a,null))}for(I(),e=n.length;e<o.length;e+=1)f(e);b()}},i(t){if(!e){for(let t=0;t<n.length;t+=1)k(o[t]);e=!0}},o(t){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)v(o[s]);e=!1},d(t){t&&c(s),P(o,t)}}}function W(t){let s,a,e,o;return a=new J({props:{cast:t[9]}}),{c(){s=r("div"),y(a.$$.fragment),e=n(),this.h()},l(t){s=i(t,"DIV",{class:!0});var l=h(s);D(a.$$.fragment,l),e=f(l),l.forEach(c),this.h()},h(){u(s,"class","p-3  col-md-2 col-lg-2 col-sm-6")},m(t,c){l(t,s,c),V(a,s,null),d(s,e),o=!0},p(t,s){const e={};16&s&&(e.cast=t[9]),a.$set(e)},i(t){o||(k(a.$$.fragment,t),o=!0)},o(t){v(a.$$.fragment,t),o=!1},d(t){t&&c(s),M(a)}}}function X(t){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function Y(t){return{c:g,l:g,m:g,p:g,i:g,o:g,d:g}}function Z(t){let s,a,r,n;const o=[q,T],i=[];function h(t,s){return t[2]?0:1}return s=h(t),a=i[s]=o[s](t),{c(){a.c(),r=e()},l(t){a.l(t),r=e()},m(t,a){i[s].m(t,a),l(t,r,a),n=!0},p(t,[e]){let l=s;s=h(t),s===l?i[s].p(t,e):(I(),v(i[l],1,1,(()=>{i[l]=null})),b(),a=i[s],a?a.p(t,e):(a=i[s]=o[s](t),a.c()),k(a,1),a.m(r.parentNode,r))},i(t){n||(k(a),n=!0)},o(t){v(a),n=!1},d(t){i[s].d(t),t&&c(r)}}}let tt;async function st({page:t,fetch:s,session:a,context:e}){return tt=t.params.movie_id,{status:200}}function at(t,s,a){let e,l,c,r,n;E(t,L,(t=>a(2,e=t))),E(t,S,(t=>a(3,l=t))),E(t,_,(t=>a(4,c=t))),x((()=>{L.set(!0),C(tt),G(tt)}));return[r,n,e,l,c,async t=>{if(t.tmdb){let s=await j(t.tmdb);s.backdrops&&s.backdrops.length&&a(0,r="https://image.tmdb.org/t/p/w780"+s.backdrops[Math.floor(Math.random()*s.backdrops.length)].file_path),s.posters&&s.posters.length&&a(1,n="https://image.tmdb.org/t/p/w342"+s.posters[Math.floor(Math.random()*s.posters.length)].file_path)}}]}export default class extends t{constructor(t){super(),s(this,t,at,Z,a,{})}}export{st as load};
