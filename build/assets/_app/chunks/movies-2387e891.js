import{L as e,C as t}from"./vendor-ffb44e14.js";let a="https://api.trakt.tv/";const o=t([]),s=t("trending"),n=t(!1),i=(e="trending",t=50,s="")=>{n.set(!0);let i=m({limit:t,extended:"full",query:s}),r=`${a}movies/${e}?${i}`;""!=s&&(r=`${a}search/movie?${i}`),fetch(r,{headers:{"Content-Type":"application/json","trakt-api-version":"2","trakt-api-key":"5111dc44329bdeadc983e2943ead5d2302d3177f102684c658544c3ea7efacdb"}}).then((e=>e.json())).then((e=>{o.set(e),n.set(!1)})).catch((e=>(console.log(e),[])))},r=e(o,(async e=>e=await Promise.all(e.map((async e=>{e.movie=e.movie?e.movie:e;let t=await p(e.movie.ids.tmdb);return t.posters&&t.posters.length?(e.movie.image="https://image.tmdb.org/t/p/w500"+t.posters[0].file_path,e):e}))))),p=async e=>(await fetch(`https://api.themoviedb.org/3/movie/${e}/images?api_key=961722508c416cd134e8adfe6e7ac8e3&language=en`)).json(),m=e=>{var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")};export{s as a,i as f,n as l,r as m};
